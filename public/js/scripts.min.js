/**
 * Created by aashish on 5/9/15.
 */
$(document).ready(function () {
    var t = 220, s = 500;
    $(window).scroll(function () {
        $(this).scrollTop() > t ? $(".back-to-top").fadeIn(s) : $(".back-to-top").fadeOut(s)
    }), $(".back-to-top").click(function (t) {
        return t.preventDefault(), $("html, body").animate({scrollTop: 0}, s), !1
    }), $("a.scroll").click(function () {
        if (location.pathname.replace(/^\//, "") == this.pathname.replace(/^\//, "") && location.hostname == this.hostname) {
            var t = $(this.hash);
            if (t = t.length ? t : $("[name=" + this.hash.slice(1) + "]"), t.length)return $("html,body").animate({scrollTop: t.offset().top}, 1e3), !1
        }
    });

    var i = $("html").hasClass("ie");
    i ? ($("#IEremove").remove(), $("html").css({overflow: "visible"})) : $("html").niceScroll({
        cursorcolor: "#999",
        cursorwidth: "8px",
        cursorborder: "none",
        cursorborderradius: "0px",
        scrollspeed: 60,
        mousescrollstep: 45,
        hwacceleration: !0,
        background: "#ddd",
        preservenativescrolling: !0,
        bouncescroll: !0,
        spacebarenabled: !0,
        disableoutline: !0,
        smoothscroll: !0,
        sensitiverail: !0,
        hidecursordelay: 500,
        cursordragspeed: .3,
        zindex: 999999
    });


    var e = $("#navbarSettings"), o = $("#navbarSpaceBottom");
    $("#navDark").click(function () {
        e.removeStyle("background-color"), e.removeClass("navbar-default navbar-trn").addClass("navbar-inverse"), e.hasClass("navbar-fixed-top") ? o.css({height: "70px"}) : o.removeStyle("height")
    }), $("#navLight").click(function () {
        e.removeStyle("background-color"), e.removeClass("navbar-inverse navbar-trn").addClass("navbar-default"), e.hasClass("navbar-fixed-top") ? o.css({height: "70px"}) : o.removeStyle("height")
    }), $("#navTrn").click(function () {
        o.removeStyle("height"), e.removeClass("navbar-inverse navbar-default").addClass("navbar-trn")
    }), $("#navRelative").click(function () {
        e.removeClass("navbar-fixed-top"), o.removeStyle("height")
    }), $("#navFixed").click(function () {
        e.hasClass("navbar-trn") ? o.removeStyle("height") : o.css({height: "70px"}), e.addClass("navbar-fixed-top")
    });


    $(window).scroll(function () {
        var t = $(".navbar-trn"), s = $(".navbar");
        e.hasClass("navbar-fixed-top") ? $(window).scrollTop() > 150 ? t.css({"background-color": "rgba(0, 0, 0, 0.8)"}) : t.css({"background-color": "transparent"}) : t.css({"background-color": "transparent"}), e.hasClass("navbar-fixed-top") ? $(window).scrollTop() > 150 ? s.css({"box-shadow": "0 2px 5px rgba(0, 0, 0, 0.2)"}) : s.css({"box-shadow": "none"}) : s.css({"box-shadow": "none"})
    }), new WOW({boxClass: "wow", animateClass: "animated", offset: 0, mobile: !1}).init(), $("#Grid").mixitup();



    //Mail Form
    function sendContact() {
        var valid;
        //valid = validateContact();
        //if(valid) {
            jQuery.ajax({
                url: "php/mailer.php",
                data:'name='+$("#name").val()+'&email='+
                $("#email").val()+'&message='+
                $("#message").val(),
                type: "POST",
                success:function(data){
                    $("#mail-status").html(data);
                },
                error:function (){}
            });
        //}
    }

    var from,to,name,message,from;
    $('.send').click(function(){
        to="adroitinnovate@gmail.com";
        from=$("#email").val();
        name=$("#name").val();
        message=$("#message").val();

        $.get("/send",{to:to,from:from,name:name,text:message},function(data){
            if(data=="sent")
            {
                $("#email").val("");
                $("#name").val("");
                $("#message").val("");
                $("#mail-status").html("<h3>Email has been sent. We will contact you soon</h3>");
            }

        });
    });


    //Form Validation
    function validateContact() {
        var valid = true;


        if(!$("#name").val()) {
            $("#userName-info").html("(required)");
            $("#userName").css('background-color','#FFFFDF');
            valid = false;
        }
        if(!$("#userEmail").val()) {
            $("#userEmail-info").html("(required)");
            $("#userEmail").css('background-color','#FFFFDF');
            valid = false;
        }
        if(!$("#userEmail").val().match(/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/)) {
            $("#userEmail-info").html("(invalid)");
            $("#userEmail").css('background-color','#FFFFDF');
            valid = false;
        }
        if(!$("#subject").val()) {
            $("#subject-info").html("(required)");
            $("#subject").css('background-color','#FFFFDF');
            valid = false;
        }
        if(!$("#content").val()) {
            $("#content-info").html("(required)");
            $("#content").css('background-color','#FFFFDF');
            valid = false;
        }
        return valid;
    }


});